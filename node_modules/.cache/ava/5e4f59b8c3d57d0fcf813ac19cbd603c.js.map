{"version":3,"sources":["pricing-rules.test.js"],"names":["testBasket","sku","name","price","then","t","log","result","true"],"mappings":"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","file":"pricing-rules.test.js","sourcesContent":["import test from 'ava'\nimport {pricingRules} from '../src/pricing-rules.js'\n\ntest('test pricingRules 3x ipd', t => {\n  let testBasket = [\n    { sku: 'ipd', name: 'Super iPad', price: 549.99 }, \n    { sku: 'ipd', name: 'Super iPad', price: 549.99 }, \n    { sku: 'ipd', name: 'Super iPad', price: 549.99 }\n  ]\n  return pricingRules(testBasket).then(result => {\n    t.log(result)\n    t.true(result === (549.99 * 3))\n  })\n})\ntest('test pricingRules 2x mbp, 1x vga (1x free), 1x atv', t => {\n  let testBasket = [\n    { sku: 'atv', name: 'Apple TV', price: 109.50 },\n    { sku: 'atv', name: 'Apple TV', price: 109.50 },\n    { sku: 'atv', name: 'Apple TV', price: 109.50 },\n    { sku: 'vga', name: 'VGA adapter', price: 30.00 }\n  ]\n  return pricingRules(testBasket).then(result => {\n    t.log(result)\n    t.true(result === 249.00)\n  })\n})\ntest('test pricingRules atv, ipd, ipd, atv, ipd, ipd, ipd', t => {\n  let testBasket = [\n    { sku: 'atv', name: 'Apple TV', price: 109.50 },\n    { sku: 'ipd', name: 'Super iPad', price: 549.99 },\n    { sku: 'ipd', name: 'Super iPad', price: 549.99 },\n    { sku: 'atv', name: 'Apple TV', price: 109.50 },\n    { sku: 'ipd', name: 'Super iPad', price: 549.99 },\n    { sku: 'ipd', name: 'Super iPad', price: 549.99 },\n    { sku: 'ipd', name: 'Super iPad', price: 549.99 }\n  ]\n  return pricingRules(testBasket).then(result => {\n    t.log(result)\n    t.true(result === (109.50 *2) + (499.99 * 5))\n  })\n})\ntest('test pricingRules mbp, vga, ipd', t => {\n  let testBasket = [\n    { sku: 'mbp', name: 'MacBook Pro', price: 1399.99 },\n    { sku: 'vga', name: 'VGA adapter', price: 30.00 },\n    { sku: 'ipd', name: 'Super iPad', price: 549.99 }\n  ]\n  return pricingRules(testBasket).then(result => {\n    t.log(result)\n    t.true(result === 1949.98)\n  })\n})"]}